<div id="content-div"></div>

{{#notes}}
<hr>
<div><li onclick="showNotes(this)" class="show-notes-btn">âŠ™</li></div>
<div id="notes" style="display: none">{{notes}}</div>
{{/notes}}

<div id="tags" class="tags"></div>

<code class="invisible" id="original-content">{{content}}</code>
<code class="invisible" id="original-tags">{{Tags}}</code>

<script type="text/javascript">
    var cs = new CardStorageClickCloze()
    cs.build(takeContent('original-content'))

    show_result(false)
    show_tags(takeContent('original-tags'), 'tags', 'tag')

    if(is_mobile){
        window.onunload = function() {
            if (Persistence.isAvailable())
                Persistence.setItem(cs)
        }
    }

    function showNotes(li){
        document.getElementById('notes').style.display = 'block'
        li.remove()
    }

    if(undefined !== keyChecker)
        keyChecker.uninstall()

    var keyChecker= new EventHistoryTimer(['keydown'], 20)
    keyChecker.install(function(e){
        if(e.ctrlKey && e.altKey){
            let show
            if('1'==e.key)
                show = true
            else if('2'==e.key)
                show = false

            if(undefined !== show){
                showClozeAnswerByStep(show)
                return true
            }
        }
        return false
    })
</script>